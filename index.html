<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>SQLBuilder for PHP by c9s</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/c9s/SQLBuilder">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/c9s/SQLBuilder/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/c9s/SQLBuilder/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>SQLBuilder for PHP</h1>
          <p>A powerful, fast, cross-platform SQL Builder for PHP. Convert your structured data into SQL queries with a fluent style interface targeting all the mainstream database (MySQL, PostgreSQL, SQLite)</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/c9s">c9s</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a id="sqlbuilder-for-php" class="anchor" href="#sqlbuilder-for-php" aria-hidden="true"><span class="octicon octicon-link"></span></a>SQLBuilder for PHP</h1>

<p><a href="http://travis-ci.org/c9s/SQLBuilder"><img src="https://secure.travis-ci.org/c9s/SQLBuilder.png" alt="Build Status"></a></p>

<p>If you're looking for something that is not an ORM but can generate SQL for
you, you just found the right one.</p>

<p>SQLBuilder is not an ORM (Object relational mapping) system, but a toolset that helps you generate 
cross-platform SQL queries in PHP.</p>

<p>SQLBuilder is a stand-alone library, you can simply install it through composer
or just require them (the class files) with your autoloader, and it has no
dependencies.</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Simple API, easy to remember.</li>
<li>Fast &amp; Powerful.</li>
<li>Custom parameter marker support:

<ul>
<li>Question-mark parameter marker.</li>
<li>Named parameter marker.</li>
</ul>
</li>
<li>Configurable quote handler.</li>
<li>Zero dependency.</li>
</ul>

<h2>
<a id="synopsis" class="anchor" href="#synopsis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Synopsis</h2>

<p>Here is a short example of using Universal SelectQuery</p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">SQLBuilder\Universal\Query\SelectQuery</span>;</span>
<span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">SQLBuilder\Driver\MySQLDriver</span>;</span>
<span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">SQLBuilder\Driver\PgSQLDriver</span>;</span>
<span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">SQLBuilder\Driver\SQLiteDriver</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-vo">$mysql</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-s3">MySQLDriver</span>;</span>
<span class="pl-s2"><span class="pl-vo">$args</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-s3">ArgumentArray</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-vo">$query</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-s3">SelectQuery</span>;</span>
<span class="pl-s2"><span class="pl-vo">$query</span><span class="pl-k">-&gt;</span>select(<span class="pl-s3">array</span>(<span class="pl-s1"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>phone<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>address<span class="pl-pds">'</span></span>,<span class="pl-s1"><span class="pl-pds">'</span>confirmed<span class="pl-pds">'</span></span>))</span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>from(<span class="pl-s1"><span class="pl-pds">'</span>users<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>u<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>partitions(<span class="pl-s1"><span class="pl-pds">'</span>u1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>u2<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>u3<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>where()</span>
<span class="pl-s2">        <span class="pl-k">-&gt;</span>is(<span class="pl-s1"><span class="pl-pds">'</span>confirmed<span class="pl-pds">'</span></span>, <span class="pl-c1">true</span>)</span>
<span class="pl-s2">        <span class="pl-k">-&gt;</span>in(<span class="pl-s1"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>, [<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>])</span>
<span class="pl-s2">    ;</span>
<span class="pl-s2"><span class="pl-vo">$query</span></span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>join(<span class="pl-s1"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">        <span class="pl-k">-&gt;</span>as(<span class="pl-s1"><span class="pl-pds">'</span>p<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">        <span class="pl-k">-&gt;</span>on(<span class="pl-s1"><span class="pl-pds">'</span>p.user_id = u.id<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">    ;</span>
<span class="pl-s2"><span class="pl-vo">$query</span></span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>orderBy(<span class="pl-s1"><span class="pl-pds">'</span>rand()<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>orderBy(<span class="pl-s1"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>DESC<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">    ;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-vo">$sql</span> <span class="pl-k">=</span> <span class="pl-vo">$query</span><span class="pl-k">-&gt;</span>toSql(<span class="pl-vo">$mysql</span>, <span class="pl-vo">$args</span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-s3">var_dump</span>(<span class="pl-vo">$sql</span>);</span>
<span class="pl-s2"><span class="pl-s3">var_dump</span>(<span class="pl-vo">$args</span>);</span></pre></div>

<h2>
<a id="a-more-detailed-description" class="anchor" href="#a-more-detailed-description" aria-hidden="true"><span class="octicon octicon-link"></span></a>A More Detailed Description</h2>

<p>Unlike other SQL utilities, SQLBuilder let you define the quote style and the
parameter marker type. there are 2 parameter marker type you can choose:</p>

<ol>
<li>Question mark parameter marker (<code>?</code>)</li>
<li>Named parameter. (<code>:id</code>, <code>:name</code>, <code>:address</code>, <code>:p1</code>)</li>
</ol>

<p>The above two are supported by PDO directly, and the first one is also
supported by <code>mysqli</code>, <code>pgsql</code> extension.</p>

<p>The API is <em>dead simple, easy to remember</em>, you can just define one query, then pass
different query driver to the query object to get a different SQL string for
your targettting platform.</p>

<p>It also supports cross-platform query generation, there are three types of
query (currently): <strong>Universal</strong>, <strong>MySQL</strong>, <strong>PgSQL</strong>.  The <strong>Universal</strong> queries are
cross-platform, you can use them to create a cross-platform PHP API of 
your database system, and the supported platforms are: <strong>MySQL</strong>, <strong>PgSQL</strong> and <strong>SQLite</strong>.</p>

<p>Universql Queries:</p>

<ul>
<li>CreateDatabaseQuery</li>
<li>DropDatabaseQuery</li>
<li>SelectQuery</li>
<li>InsertQuery</li>
<li>UpdateQuery</li>
<li>DeleteQuery</li>
<li>UnionQuery</li>
<li>CreateIndexQuery</li>
<li>DropIndexQuery</li>
</ul>

<p>To see the implementation details, you can check the source code inside <strong>Universal</strong> namespace:
<a href="https://github.com/c9s/SQLBuilder/tree/master/src/SQLBuilder/Universal/Query">https://github.com/c9s/SQLBuilder/tree/master/src/SQLBuilder/Universal/Query</a></p>

<p>MySQL Queries:</p>

<ul>
<li>CreateUserQuery</li>
<li>DropUserQuery</li>
<li>GrantQuery</li>
<li>SetPasswordQuery</li>
</ul>

<p>For MySQL platform, the implementation is according to the specification of MySQL 5.6.</p>

<p>For PostgreSQL platform, the implementation is according to the specification of PostgreSQL 9.2.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a id="install-through-composer" class="anchor" href="#install-through-composer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install through Composer</h3>

<div class="highlight highlight-json"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>require<span class="pl-pds">"</span></span>: {
        <span class="pl-s1"><span class="pl-pds">"</span>corneltek/sqlbuilder<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>2~<span class="pl-pds">"</span></span>
    }
}</pre></div>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p><a href="https://github.com/c9s/SQLBuilder/wiki">Documentation</a></p>

<h2>
<a id="development" class="anchor" href="#development" aria-hidden="true"><span class="octicon octicon-link"></span></a>Development</h2>

<pre><code>composer install --dev --prefer-source
</code></pre>

<p>Copy the <code>phpunit.xml</code> file for your local configuration:</p>

<div class="highlight highlight-sh"><pre>phpunit -c your-phpunit.xml tests</pre></div>

<h2>
<a id="contribution" class="anchor" href="#contribution" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contribution</h2>

<p>To test with mysql database:</p>

<pre><code>$ mysql -uroot -p
create database sqlbuilder charset utf8;
grant all privileges on sqlbuilder.* to 'testing'@'localhost' identified by '';

--- or use this to remove password for testing account
SET PASSWORD FOR testing@localhost=PASSWORD('');
</code></pre>

<p>To test with pgsql database:</p>

<pre><code>$ sudo -u postgres createdb sqlbuilder
</code></pre>

<h2>
<a id="reference" class="anchor" href="#reference" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reference</h2>

<ul>
<li><a href="http://dev.mysql.com/doc/refman/5.0/en/sql-syntax.html">http://dev.mysql.com/doc/refman/5.0/en/sql-syntax.html</a></li>
<li><a href="http://www.postgresql.org/docs/8.2/static/sql-syntax.html">http://www.postgresql.org/docs/8.2/static/sql-syntax.html</a></li>
<li><a href="http://www.sqlite.org/optoverview.html">http://www.sqlite.org/optoverview.html</a></li>
</ul>

<h2>
<a id="author" class="anchor" href="#author" aria-hidden="true"><span class="octicon octicon-link"></span></a>Author</h2>

<p>Yo-An Lin (c9s) <a href="mailto:cornelius.howl@gmail.com">cornelius.howl@gmail.com</a></p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>